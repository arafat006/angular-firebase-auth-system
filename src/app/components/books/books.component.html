<div class="container-xxl p-4">
    <div class="card mb-4" style="width: 30rem">
        <div class="card-body">
            <h5 class="card-title mb-4">Update Book</h5>
            <form>
                <div class="form-group mb-2">
                    <label for="name">Name</label>
                    <input id="name" name="name" type="text" class="form-control" [(ngModel)]="newBook.title" />
                </div>
                <div class="form-group mb-2">
                    <label for="name">Description</label>
                    <input id="description" name="description" type="text" class="form-control" [(ngModel)]="newBook.description" />
                </div>
                <div class="form-group mb-2">
                    <label for="name">Author</label>
                    <input id="author" name="author" class="form-control" [(ngModel)]="newBook.author" />
                </div>
                <div class="form-group mb-2">
                    <label for="name">Publisher</label>
                    <input id="publisher" name="publisher" class="form-control" [(ngModel)]="newBook.publisher" />
                </div>
                <div class="form-group mb-2">
                    <label for="name">Uploaded By</label>
                    <input id="uploadedBy" name="uploadedBy" class="form-control" [(ngModel)]="newBook.uploadedBy" />
                </div>
                <div class="form-group mb-2">
                    <label for="name">Approved By</label>
                    <input id="approvedBy" name="approvedBy" class="form-control" [(ngModel)]="newBook.approvedBy" />
                </div>
                <button class="btn btn-primary" type="submit" (click)="updateBook()">Update</button>
            </form>
        </div>
    </div>
</div>

<div class="container-xxl mt-4 mb-4">
    <div class="row row-cols-1 row-cols-xs-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">

        <div class="col"  *ngFor="let book of books">
            <div class="card h-100">
                <img src="../../../assets/images/books/bookmockup.webp" class="card-img-top" alt="Book Mockup">
                <div class="card-body">
                    <h5 class="card-title">{{ book.title }}</h5>
                    <p class="card-text">{{ book.description }}</p>
                </div>
                <ul class="list-group list-group-flush" style="font-size: 14px;">
                    <li class="list-group-item">Author: <span class="text-muted">{{ book.author }}</span></li>
                    <li class="list-group-item">Publisher: <span class="text-muted">{{ book.publisher }}</span></li>
                    <li class="list-group-item">Uploaded By: <span class="text-muted">{{ book.uploadedBy }}</span></li>
                    <li class="list-group-item">Uploaded Date: <span class="text-muted">{{ book.uploadDate.toDate() | date:'dd/MM/yyyy' }}</span></li>
                    <li class="list-group-item">Last Updated Date: <span class="text-muted">{{ book.lastUpdatedDate.toDate() | date:'dd/MM/yyyy' }}</span></li>
                    <li class="list-group-item">Approved By: <span class="text-muted">{{ book.approvedBy }}</span></li>
                    <li class="list-group-item d-flex flex-row flex-wrap">Category: 
                        <span class="me-2"></span>
                        <span *ngFor="let category of book.categories" class="border border-secondary rounded-pill ps-2 pe-2 me-1 small text-muted" style="margin-top: 1px; margin-bottom: 2px">{{ category }}</span>
                    </li>
                    <li class="list-group-item d-flex flex-row flex-wrap">
                        <a class="btn btn-primary me-2" (click)="editBook(book)">Update</a>
                        <a class="btn btn-danger" (click)="deleteBook(book.id)">Delete</a>
                    </li>
                </ul>
                <div class="card-footer">
                    <small class="text-muted">Released in: {{ book.releaseDate.toDate() | date:'dd/MM/yyyy' }}</small>
                </div>
            </div>
        </div>

    </div>

</div>